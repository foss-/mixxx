<!DOCTYPE template>
<!--
  Description:
    Library widget.
-->
<Template>
  <WidgetGroup>
    <ObjectName>LibraryContainer</ObjectName>
    <Layout>vertical</Layout>
    <!-- 'Ignore' is the only thing that lets it
          shrink to nothing. -->
    <SizePolicy>me,i</SizePolicy>
    <Children>
      <!-- QSplitter between LibrarySidebar and Library -->
      <Splitter>
        <ObjectName>LibrarySplitter</ObjectName>
        <Orientation>horizontal</Orientation>
        <SizePolicy>me,me</SizePolicy>
        <SplitSizesConfigKey>[Deere],LibrarySidebarSplitSize</SplitSizesConfigKey>
        <SplitSizes>2,8</SplitSizes>
        <Children>
          <WidgetGroup>
            <Layout>vertical</Layout>
            <Size>50min,-1me</Size>
            <Children>

              <Template src="skin:library_sidebar_width_detector.xml"/>

              <Template src="skin:preview_deck.xml"/>
              
              <!-- QSplitter between LibrarySidebar and CoverArt -->
              <Splitter>
                <ObjectName>LibraryCoverArtSplitter</ObjectName>
                <Orientation>vertical</Orientation>
                <SizePolicy>me,me</SizePolicy>
                <MinimumSize>30,30</MinimumSize>
                <SplitSizesConfigKey>[Deere],LibraryCoverartSplitSize</SplitSizesConfigKey>
                <SplitSizes>2,8</SplitSizes>
                <Collapsible>0,0</Collapsible>
                <Children>
                  <WidgetGroup>
                    <Layout>horizontal</Layout>
                    <SizePolicy>min,me</SizePolicy>
                    <Children>
                      <WidgetGroup>
                        <Layout>vertical</Layout>
                        <SizePolicy>min,me</SizePolicy>
                        <Children>
                          <WidgetGroup>
                            <ObjectName>AlignCenter</ObjectName>
                            <Layout>horizontal</Layout>
                            <Size>-1min,25f</Size>
                            <Children>
                              <Template src="skin:hide_show_button.xml">
                                <SetVariable name="TooltipId">maximize_library</SetVariable>
                                <SetVariable name="object_name">LibraryToggle</SetVariable>
                                <SetVariable name="control">[Master],maximize_library</SetVariable>
                              </Template>
                            </Children>
                            <Connection>
                              <ConfigKey>[Skin],lib_sidebar_collapsed</ConfigKey>
                              <Transform><Not/></Transform>
                              <BindProperty>visible</BindProperty>
                            </Connection>
                          </WidgetGroup>

                          <LibrarySidebarButtons>
                            <SizePolicy>min,me</SizePolicy>
                            <ObjectName>LibrarySidebarButtons</ObjectName>
                          </LibrarySidebarButtons>
                        </Children>
                      </WidgetGroup>

                      <LibrarySidebarExpanded>
                        <ObjectName>LibrarySidebarExpanded</ObjectName>
                        <Id>1</Id>
                      </LibrarySidebarExpanded>
                    </Children>
                  </WidgetGroup>

                  <CoverArt>
                    <ObjectName>LibraryCoverArt</ObjectName>
                    <TooltipId>coverart</TooltipId>
                    <SizePolicy>me,me</SizePolicy>
                    <MinimumSize>30,30</MinimumSize>
                    <Connection>
                      <ConfigKey>[Library],show_coverart</ConfigKey>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </CoverArt>
                </Children>
              </Splitter>
            </Children>
          </WidgetGroup>

          <WidgetGroup>
            <Layout>vertical</Layout>
            <Children>
              <WidgetGroup>
                <Layout>horizontal</Layout>
                <Children>
                  <WidgetGroup>
                    <Layout>horizontal</Layout>
                    <Children>
                      <WidgetGroup><Size>2f,1min</Size></WidgetGroup>
                      <Template src="skin:hide_show_button.xml">
                        <SetVariable name="TooltipId">maximize_library</SetVariable>
                        <SetVariable name="object_name">LibraryToggle</SetVariable>
                        <SetVariable name="control">[Master],maximize_library</SetVariable>
                      </Template>
                    </Children>
                    <Connection>
                      <ConfigKey>[Skin],lib_sidebar_collapsed</ConfigKey>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>
                  
                  <LibraryBreadCrumb>
                    <ObjectName>LibraryBreadCrumb</ObjectName>
                    <SizePolicy>me,min</SizePolicy>
                    <Id>1</Id>
                  </LibraryBreadCrumb>
                </Children>
              </WidgetGroup>

              <SearchBox>
                <Id>1</Id>
              </SearchBox>

              <LibraryPane>
                <BgColor>#585858</BgColor>
                <FgColor>#eece33</FgColor>
                <Id>1</Id>
              </LibraryPane>
            </Children>
          </WidgetGroup>

        </Children>
        <Connection>
          <ConfigKey>[Library],show_library</ConfigKey>
          <BindProperty>visible</BindProperty>
        </Connection>
      </Splitter>

      <WidgetGroup>
        <ObjectName>Spacer22</ObjectName>
        <SizePolicy>me,me</SizePolicy>
        <Children/>
        <Connection>
          <ConfigKey>[Library],show_library</ConfigKey>
          <Transform><Not/></Transform>
          <BindProperty>visible</BindProperty>
        </Connection>
      </WidgetGroup>

    </Children>
  </WidgetGroup>
</Template>
